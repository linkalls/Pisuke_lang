// 07_web_server_import.psk
// import を使って Web サーバー機能を読み込み、route を定義する例

import { server } from "std/webserver"

server.route("/hello", fn(req) { return "Hello, world!" })

server.route("/users/:id", fn(req) {
    let user_id = req.params.id
    return { id: user_id, name: "サンプルユーザー" } // JSONレスポンスになる
})

print("server is running at localhost:8080")
server.serve(8080)
